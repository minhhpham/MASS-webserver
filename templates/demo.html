
<!DOCTYPE html>
<html>
<head>
	<title>Water Reclamation System Planning</title>
	<link rel="stylesheet" type="text/css" href="/static/NavBarStyle.css">
	<link rel="stylesheet" type="text/css" href="/static/TableStyle.css">
	<link rel="stylesheet" type="text/css" href="/static/markdown.css">
	<link rel="stylesheet" type="text/css" href="/static/HelpTips.css">
    <script src='/static/chartjs/Chart.min.js'></script>
    <script src='/static/chartjs/utils.js'></script>
    <script src='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.js'></script>
	<link href='https://api.mapbox.com/mapbox.js/v3.3.1/mapbox.css' rel='stylesheet' />
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <style> #map { width: 100%; height: 700px} </style>
</head>
<body>
	<!-- NAVIGATION BAR -->
	<div id='cssmenu'>
	<ul>
	   <li>					<a href="{{ url_for('home') }}">Home</a></li>
	   <li>					<a href="{{ url_for('projects') }}">Projects</a></li>
	   <li class="active">	<a href="{{ url_for('demo') }}">Demo</a></li>
	   <li>					<a href="{{ url_for('documentation') }}">Documentation</a></li>
	   <li>					<a href="{{ url_for('Contact') }}">Contact</a></li>
	</ul>
	</div>

	<!-- NAVIGATION BAR ENDS -->

	<article class="markdown-body">
		<h2>Browser Compatibility</h2>
		<ul>
			<li><b>Recommended browsers</b>: we have tested that this site is compatible with Google Chrome, Mozilla FireFox, Microsoft Edge, and Safari.</li>
			<li>Microsoft Internet Explorer may or may not work.</li>
		</ul>
		<h2 id="table-of-content">Table of Content<a class="headerlink" href="#table-of-content" title="Permanent link"></a></h2>
		<!-- Table of contents -->
		<ul>
			<li><a href="#what-this-tool-does">What this tool does</a></li>
			<li><a href="#sample-input-data">Sample input data</a></li>
			<ul>
				<li><a href="#population-clusters">Population clusters</a></li>
				<li><a href="#potiential-water-treatment-locations">Potential water-treatment locations</a></li>
				<li><a href="#water-treatment-technologies">Water-treatment technologies</a></li>
			</ul>
			<li><a href="#sample-output">Sample output</a></li>
		</ul>

		<!-- What this tool does  -->
		<h2 id="what-this-tool-does">What this tool does<a class="headerlink" href="#what-this-tool-does" title="Permanent link"></a></h2>

		<p>This tool utilizes the mathematical model published by <a href="https://www.sciencedirect.com/science/article/pii/S0959652619330975" target="_blank">Rezaei et al.</a> to minimize the costs and carbon footprint and maximize the value of resource recovery of water reclamation systems. Users will be asked to provide information about potential water-treatment locations and population clusters that will be served. The tool will compute the optimized solutions and the output of the model includes selected water-treatment locations, the connections between the population clusters to the treatment plants, the optimzal technolgy to be implemented in each location, and the scale of each plant.</p>

		<p>To see what input data the tool needs, please refer to the <a href="#sample-input-data">Sample input data section</a>. To see what the results would look like, please refer to the <a href="#sample-output">Sample output section</a>.</p>

		<p>Full documentation is available <a href="{{ url_for('documentation') }}">here</a></p>

		<!-- sample input -->
		<h2 id="sample-input-data">Sample input data<a class="headerlink" href="#sample-input-data" title="Permanent link"></a></h2>
		<p>The followings are required inputs. There are some optional parameters that users can modify, as described in the <a href="{{ url_for('documentation') }}#model-parameters">Documentation</a>. </p>

			<!-- Sample population clusters -->
			<h4 id="population-clusters">Population clusters <a class="headerlink" href="#population-clusters" title="Permanent link"></a></h4>
			Below is a sample input table for populations clusters. Required information includes cluster name, current population, population growth rate per year (in decimal format), and the latitude and longitude of the cluster.
			<br><br>

			<table class=blueTable align="center">
				<tr> <!-- Table headers -->
				<th> Index </th>
				<th><label for="rows-0-Name">Cluster Name</label></th>
				<th><label for="rows-0-Pr">Current Population</label></th>
				<th><label for="rows-0-GrowthRate">Population Growth Rate</label></th>
				<th><label for="rows-0-lat">Latitude</label></th>
				<th><label for="rows-0-lon">Longitude</label></th>
				</tr>
				<tr> <!-- Table rows -->
				<td>1</td>
				<td><input id="rows-0-Name" name="rows-0-Name" required type="text" value="Apollo Beach"></td>
				<td><input id="rows-0-Pr" name="rows-0-Pr" required type="text" value="20149"></td>
				<td><input id="rows-0-GrowthRate" name="rows-0-GrowthRate" required type="text" value="0.0509"></td>
				<td><input id="rows-0-lat" name="rows-0-lat" required type="text" value="27.763"></td>
				<td><input id="rows-0-lon" name="rows-0-lon" required type="text" value="-82.4033"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>2</td>
				<td><input id="rows-1-Name" name="rows-1-Name" required type="text" value="Balm"></td>
				<td><input id="rows-1-Pr" name="rows-1-Pr" required type="text" value="3968"></td>
				<td><input id="rows-1-GrowthRate" name="rows-1-GrowthRate" required type="text" value="0.1482"></td>
				<td><input id="rows-1-lat" name="rows-1-lat" required type="text" value="27.753"></td>
				<td><input id="rows-1-lon" name="rows-1-lon" required type="text" value="-82.2895"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>3</td>
				<td><input id="rows-2-Name" name="rows-2-Name" required type="text" value="Bloomingdale"></td>
				<td><input id="rows-2-Pr" name="rows-2-Pr" required type="text" value="24100"></td>
				<td><input id="rows-2-GrowthRate" name="rows-2-GrowthRate" required type="text" value="0.0082"></td>
				<td><input id="rows-2-lat" name="rows-2-lat" required type="text" value="27.8767"></td>
				<td><input id="rows-2-lon" name="rows-2-lon" required type="text" value="-82.2614"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>4</td>
				<td><input id="rows-3-Name" name="rows-3-Name" required type="text" value="Brandon"></td>
				<td><input id="rows-3-Pr" name="rows-3-Pr" required type="text" value="113677"></td>
				<td><input id="rows-3-GrowthRate" name="rows-3-GrowthRate" required type="text" value="0.013"></td>
				<td><input id="rows-3-lat" name="rows-3-lat" required type="text" value="27.936"></td>
				<td><input id="rows-3-lon" name="rows-3-lon" required type="text" value="-82.2993"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>5</td>
				<td><input id="rows-4-Name" name="rows-4-Name" required type="text" value="Dover"></td>
				<td><input id="rows-4-Pr" name="rows-4-Pr" required type="text" value="4149"></td>
				<td><input id="rows-4-GrowthRate" name="rows-4-GrowthRate" required type="text" value="0.0158"></td>
				<td><input id="rows-4-lat" name="rows-4-lat" required type="text" value="27.9868"></td>
				<td><input id="rows-4-lon" name="rows-4-lon" required type="text" value="-82.2311"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>6</td>
				<td><input id="rows-5-Name" name="rows-5-Name" required type="text" value="East Lake-Orient Park CDP"></td>
				<td><input id="rows-5-Pr" name="rows-5-Pr" required type="text" value="25565"></td>
				<td><input id="rows-5-GrowthRate" name="rows-5-GrowthRate" required type="text" value="0.0162"></td>
				<td><input id="rows-5-lat" name="rows-5-lat" required type="text" value="28.0044"></td>
				<td><input id="rows-5-lon" name="rows-5-lon" required type="text" value="-82.3647"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>7</td>
				<td><input id="rows-6-Name" name="rows-6-Name" required type="text" value="Fish Hawk"></td>
				<td><input id="rows-6-Pr" name="rows-6-Pr" required type="text" value="20930"></td>
				<td><input id="rows-6-GrowthRate" name="rows-6-GrowthRate" required type="text" value="0.0561"></td>
				<td><input id="rows-6-lat" name="rows-6-lat" required type="text" value="27.8479"></td>
				<td><input id="rows-6-lon" name="rows-6-lon" required type="text" value="-82.2178"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>8</td>
				<td><input id="rows-7-Name" name="rows-7-Name" required type="text" value="Gibsonton"></td>
				<td><input id="rows-7-Pr" name="rows-7-Pr" required type="text" value="16587"></td>
				<td><input id="rows-7-GrowthRate" name="rows-7-GrowthRate" required type="text" value="0.0213"></td>
				<td><input id="rows-7-lat" name="rows-7-lat" required type="text" value="27.8285"></td>
				<td><input id="rows-7-lon" name="rows-7-lon" required type="text" value="-82.3791"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>9</td>
				<td><input id="rows-8-Name" name="rows-8-Name" required type="text" value="Mango"></td>
				<td><input id="rows-8-Pr" name="rows-8-Pr" required type="text" value="12142"></td>
				<td><input id="rows-8-GrowthRate" name="rows-8-GrowthRate" required type="text" value="0.0098"></td>
				<td><input id="rows-8-lat" name="rows-8-lat" required type="text" value="27.9901"></td>
				<td><input id="rows-8-lon" name="rows-8-lon" required type="text" value="-82.3083"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>10</td>
				<td><input id="rows-9-Name" name="rows-9-Name" required type="text" value="Palm River-Clair Mel CDP"></td>
				<td><input id="rows-9-Pr" name="rows-9-Pr" required type="text" value="23848"></td>
				<td><input id="rows-9-GrowthRate" name="rows-9-GrowthRate" required type="text" value="0.0175"></td>
				<td><input id="rows-9-lat" name="rows-9-lat" required type="text" value="27.9245"></td>
				<td><input id="rows-9-lon" name="rows-9-lon" required type="text" value="-82.3794"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>11</td>
				<td><input id="rows-10-Name" name="rows-10-Name" required type="text" value="Plant City"></td>
				<td><input id="rows-10-Pr" name="rows-10-Pr" required type="text" value="39087"></td>
				<td><input id="rows-10-GrowthRate" name="rows-10-GrowthRate" required type="text" value="0.0163"></td>
				<td><input id="rows-10-lat" name="rows-10-lat" required type="text" value="28.0144"></td>
				<td><input id="rows-10-lon" name="rows-10-lon" required type="text" value="-82.1203"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>12</td>
				<td><input id="rows-11-Name" name="rows-11-Name" required type="text" value="Progress Village"></td>
				<td><input id="rows-11-Pr" name="rows-11-Pr" required type="text" value="8220"></td>
				<td><input id="rows-11-GrowthRate" name="rows-11-GrowthRate" required type="text" value="0.0599"></td>
				<td><input id="rows-11-lat" name="rows-11-lat" required type="text" value="27.8856"></td>
				<td><input id="rows-11-lon" name="rows-11-lon" required type="text" value="-82.3643"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>13</td>
				<td><input id="rows-12-Name" name="rows-12-Name" required type="text" value="Riverview"></td>
				<td><input id="rows-12-Pr" name="rows-12-Pr" required type="text" value="89017"></td>
				<td><input id="rows-12-GrowthRate" name="rows-12-GrowthRate" required type="text" value="0.0316"></td>
				<td><input id="rows-12-lat" name="rows-12-lat" required type="text" value="27.8252"></td>
				<td><input id="rows-12-lon" name="rows-12-lon" required type="text" value="-82.3046"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>14</td>
				<td><input id="rows-13-Name" name="rows-13-Name" required type="text" value="Ruskin"></td>
				<td><input id="rows-13-Pr" name="rows-13-Pr" required type="text" value="24266"></td>
				<td><input id="rows-13-GrowthRate" name="rows-13-GrowthRate" required type="text" value="0.0485"></td>
				<td><input id="rows-13-lat" name="rows-13-lat" required type="text" value="27.7077"></td>
				<td><input id="rows-13-lon" name="rows-13-lon" required type="text" value="-82.4227"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>15</td>
				<td><input id="rows-14-Name" name="rows-14-Name" required type="text" value="Seffner"></td>
				<td><input id="rows-14-Pr" name="rows-14-Pr" required type="text" value="8297"></td>
				<td><input id="rows-14-GrowthRate" name="rows-14-GrowthRate" required type="text" value="0.0126"></td>
				<td><input id="rows-14-lat" name="rows-14-lat" required type="text" value="28.0016"></td>
				<td><input id="rows-14-lon" name="rows-14-lon" required type="text" value="-82.2741"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>16</td>
				<td><input id="rows-15-Name" name="rows-15-Name" required type="text" value="Sun City Center"></td>
				<td><input id="rows-15-Pr" name="rows-15-Pr" required type="text" value="24900"></td>
				<td><input id="rows-15-GrowthRate" name="rows-15-GrowthRate" required type="text" value="0.0361"></td>
				<td><input id="rows-15-lat" name="rows-15-lat" required type="text" value="27.7144"></td>
				<td><input id="rows-15-lon" name="rows-15-lon" required type="text" value="-82.3558"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>17</td>
				<td><input id="rows-16-Name" name="rows-16-Name" required type="text" value="Thonotosassa"></td>
				<td><input id="rows-16-Pr" name="rows-16-Pr" required type="text" value="13964"></td>
				<td><input id="rows-16-GrowthRate" name="rows-16-GrowthRate" required type="text" value="0.0142"></td>
				<td><input id="rows-16-lat" name="rows-16-lat" required type="text" value="28.0423"></td>
				<td><input id="rows-16-lon" name="rows-16-lon" required type="text" value="-82.2962"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>18</td>
				<td><input id="rows-17-Name" name="rows-17-Name" required type="text" value="Valrico"></td>
				<td><input id="rows-17-Pr" name="rows-17-Pr" required type="text" value="38711"></td>
				<td><input id="rows-17-GrowthRate" name="rows-17-GrowthRate" required type="text" value="0.0118"></td>
				<td><input id="rows-17-lat" name="rows-17-lat" required type="text" value="27.9191"></td>
				<td><input id="rows-17-lon" name="rows-17-lon" required type="text" value="-82.2313"></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>19</td>
				<td><input id="rows-18-Name" name="rows-18-Name" required type="text" value="Wimauma"></td>
				<td><input id="rows-18-Pr" name="rows-18-Pr" required type="text" value="8615"></td>
				<td><input id="rows-18-GrowthRate" name="rows-18-GrowthRate" required type="text" value="0.0425"></td>
				<td><input id="rows-18-lat" name="rows-18-lat" required type="text" value="27.6749"></td>
				<td><input id="rows-18-lon" name="rows-18-lon" required type="text" value="-82.3132"></td>
				</tr>
			</table>
			<br>


			<!-- Sample potential locations -->
			<h4 id="potiential-water-treatment-locations">Potential water-treatment locations <a class="headerlink" href="#potiential-water-treatment-locations" title="Permanent link"></a></h4>
			Below is a sample input table for water-treatment locations. Required information includes location name, latitude, longitude, whether a location currently exists, and the technology being used at an existing location.
			<br><br>

			<table class=blueTable align="center">
				<tr> <!-- Table headers -->
				<th> Index
				<div class="help-tip"><p>If you have an existing location that you do not want to modify, please do NOT include it. If you have an existing location that you want to change the scale but keep the existing technology, please check the box on the fifth column and select the technology. If you have an existing location but you are willing to implement a new technlogy on it, please check the box on the fifth columns and leave the sixth column empty. </p></div>
				</th>
				<th><label for="rows-0-LocationName">Location Name</label></th>
				<th><label for="rows-0-lat">Latitude</label></th>
				<th><label for="rows-0-lon">Longitude</label></th>
				<th><label for="rows-0-existing_location">Existing Location</label>
				<div class="help-tip"><p>Is this location currently operating?</p></div>
				</th>
				<th><label for="rows-0-existing_tech">Technology at existing location</label>
				</th>
				</tr>
				<tr> <!-- Table rows -->
				<td>1</td>
				<td><input id="rows-0-LocationName" name="rows-0-LocationName" type="text" value="Falkenburg"></td>
				<td><input id="rows-0-lat" name="rows-0-lat" type="text" value="27.952972"></td>
				<td><input id="rows-0-lon" name="rows-0-lon" type="text" value="-82.340869"></td>
				<td><input id="rows-0-existing_location" name="rows-0-existing_location" type="checkbox" value="y"></td>
				<td><select id="rows-0-existing_tech" name="rows-0-existing_tech"><option selected value="1">N/A</option><option value="2">Bardenpho</option><option value="3">MBR</option><option value="4">MBR + UF</option><option value="5">MBR + RO</option><option value="6">GAC + MF</option></select></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>2</td>
				<td><input id="rows-1-LocationName" name="rows-1-LocationName" type="text" value="Valrico"></td>
				<td><input id="rows-1-lat" name="rows-1-lat" type="text" value="27.957529"></td>
				<td><input id="rows-1-lon" name="rows-1-lon" type="text" value="-82.229382"></td>
				<td><input id="rows-1-existing_location" name="rows-1-existing_location" type="checkbox" value="y"></td>
				<td><select id="rows-1-existing_tech" name="rows-1-existing_tech"><option selected value="1">N/A</option><option value="2">Bardenpho</option><option value="3">MBR</option><option value="4">MBR + UF</option><option value="5">MBR + RO</option><option value="6">GAC + MF</option></select></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>3</td>
				<td><input id="rows-2-LocationName" name="rows-2-LocationName" type="text" value="South County"></td>
				<td><input id="rows-2-lat" name="rows-2-lat" type="text" value="27.722524"></td>
				<td><input id="rows-2-lon" name="rows-2-lon" type="text" value="-82.383904"></td>
				<td><input id="rows-2-existing_location" name="rows-2-existing_location" type="checkbox" value="y"></td>
				<td><select id="rows-2-existing_tech" name="rows-2-existing_tech"><option selected value="1">N/A</option><option value="2">Bardenpho</option><option value="3">MBR</option><option value="4">MBR + UF</option><option value="5">MBR + RO</option><option value="6">GAC + MF</option></select></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>4</td>
				<td><input id="rows-3-LocationName" name="rows-3-LocationName" type="text" value="Southeast County Landfill"></td>
				<td><input id="rows-3-lat" name="rows-3-lat" type="text" value="27.762715"></td>
				<td><input id="rows-3-lon" name="rows-3-lon" type="text" value="-82.198667"></td>
				<td><input id="rows-3-existing_location" name="rows-3-existing_location" type="checkbox" value="y"></td>
				<td><select id="rows-3-existing_tech" name="rows-3-existing_tech"><option selected value="1">N/A</option><option value="2">Bardenpho</option><option value="3">MBR</option><option value="4">MBR + UF</option><option value="5">MBR + RO</option><option value="6">GAC + MF</option></select></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>5</td>
				<td><input id="rows-4-LocationName" name="rows-4-LocationName" type="text" value="Mosaic (Hillsborough)"></td>
				<td><input id="rows-4-lat" name="rows-4-lat" type="text" value="27.863415"></td>
				<td><input id="rows-4-lon" name="rows-4-lon" type="text" value="-82.38656"></td>
				<td><input id="rows-4-existing_location" name="rows-4-existing_location" type="checkbox" value="y"></td>
				<td><select id="rows-4-existing_tech" name="rows-4-existing_tech"><option selected value="1">N/A</option><option value="2">Bardenpho</option><option value="3">MBR</option><option value="4">MBR + UF</option><option value="5">MBR + RO</option><option value="6">GAC + MF</option></select></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>6</td>
				<td><input id="rows-5-LocationName" name="rows-5-LocationName" type="text" value="South County Solid Waste Facility"></td>
				<td><input id="rows-5-lat" name="rows-5-lat" type="text" value="27.801543"></td>
				<td><input id="rows-5-lon" name="rows-5-lon" type="text" value="-82.382078"></td>
				<td><input id="rows-5-existing_location" name="rows-5-existing_location" type="checkbox" value="y"></td>
				<td><select id="rows-5-existing_tech" name="rows-5-existing_tech"><option selected value="1">N/A</option><option value="2">Bardenpho</option><option value="3">MBR</option><option value="4">MBR + UF</option><option value="5">MBR + RO</option><option value="6">GAC + MF</option></select></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>7</td>
				<td><input id="rows-6-LocationName" name="rows-6-LocationName" type="text" value="14519 BALM RIVERVIEW RD, RIVERVIEW"></td>
				<td><input id="rows-6-lat" name="rows-6-lat" type="text" value="27.773225"></td>
				<td><input id="rows-6-lon" name="rows-6-lon" type="text" value="-82.279631"></td>
				<td><input id="rows-6-existing_location" name="rows-6-existing_location" type="checkbox" value="y"></td>
				<td><select id="rows-6-existing_tech" name="rows-6-existing_tech"><option selected value="1">N/A</option><option value="2">Bardenpho</option><option value="3">MBR</option><option value="4">MBR + UF</option><option value="5">MBR + RO</option><option value="6">GAC + MF</option></select></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>8</td>
				<td><input id="rows-7-LocationName" name="rows-7-LocationName" type="text" value="15110 BALM WIMAUMA RD, WIMAUMA"></td>
				<td><input id="rows-7-lat" name="rows-7-lat" type="text" value="27.75654"></td>
				<td><input id="rows-7-lon" name="rows-7-lon" type="text" value="-82.256282"></td>
				<td><input id="rows-7-existing_location" name="rows-7-existing_location" type="checkbox" value="y"></td>
				<td><select id="rows-7-existing_tech" name="rows-7-existing_tech"><option selected value="1">N/A</option><option value="2">Bardenpho</option><option value="3">MBR</option><option value="4">MBR + UF</option><option value="5">MBR + RO</option><option value="6">GAC + MF</option></select></td>
				</tr>
				<tr> <!-- Table rows -->
				<td>9</td>
				<td><input id="rows-8-LocationName" name="rows-8-LocationName" type="text" value="16410 BALM WIMAUMA RD, WIMAUMA"></td>
				<td><input id="rows-8-lat" name="rows-8-lat" type="text" value="27.723188"></td>
				<td><input id="rows-8-lon" name="rows-8-lon" type="text" value="-82.261762"></td>
				<td><input id="rows-8-existing_location" name="rows-8-existing_location" type="checkbox" value="y"></td>
				<td><select id="rows-8-existing_tech" name="rows-8-existing_tech"><option selected value="1">N/A</option><option value="2">Bardenpho</option><option value="3">MBR</option><option value="4">MBR + UF</option><option value="5">MBR + RO</option><option value="6">GAC + MF</option></select></td>
				</tr>
			</table>
			<br>


			<!-- Sample technologies -->
			<h4 id="water-treatment-technologies">Water-treatment technologies<a class="headerlink" href="#water-treatment-technologies" title="Permanent link"></a></h4>
			Below is a sample input table for water-treatment technologies. The only required input is the selection checkboxes in the first column. Default values are shown for columns 4 to 8, but users can modify them. The meaning of the values in columns 4 to 8 are described in the <a href="{{ url_for('documentation') }}#water-treatment-technologies">Documentation</a>.
			<br><br>
			<table class=blueTable align="center" style="max-width:1200px;">
			<tr> <!-- Table headers  -->
				<th> Check to Select </th> 
				<th> Technology </th> 
				<th> Scale </th>
				<th> Capacity <br>Cap<sub>kt</sub> (m<sup>3</sup>/year) </th>
				<th> Fixed Cost <br>CC<sub>kt</sub> ($/(m<sup>3</sup>/year)) </th>
				<th> Annual Cost <br>OC<sub>t</sub> ($/m<sup>3</sup>) </th>
				<th> Selling price of reclaimed water <br>SRW<sub>t</sub> ($/m<sup>3</sup>) </th>
				<th> Unit greenhouse gas emissions from treatment <br>GP<sub>t</sub> (gr CO<sub>2</sub>-eq/m<sup>3</sup>) <div class="help-tip">
					<p>The unit greenhouse gas (GHG) emissions (GP<sub>t</sub>) can be calculated as follows:
					GP<sub>t</sub> = EF*&Sigma;E<sub>p</sub>
					Where EF is the emissions factor for the region (kg CO<sub>2</sub>-e/kWh) and E<sub>p</sub> is the unit electricity consumption for each wastewater treatment process (kWh/m<sup>3</sup>). Emissions factors for regions within the United States’ electrical grid can be found on the US EPA’s eGRID website. Additionally, the unit electricity consumption for common wastewater treatment processes can be extracted from various sources (e.g., process data, research from the Electric Power Research Institute).
					</p>
					</div> </th>
			</tr>
			
				<tr> <!-- Table rows -->
					<td rowspan="3"><input id="default_techs-rows-0-Select" name="default_techs-rows-0-Select" type="checkbox" value="y"></td>
					<td rowspan="3">Bardenpho</td>
					<td>Small</td> 
					<td><input id="default_techs-rows-0-Small-Capkt" name="default_techs-rows-0-Small-Capkt" type="text" value="4745"></td> 
					<td><input id="default_techs-rows-0-Small-CCkt" name="default_techs-rows-0-Small-CCkt" type="text" value="58.44"></td> 
					<td><input id="default_techs-rows-0-Small-OCt" name="default_techs-rows-0-Small-OCt" type="text" value="1.92"></td>
					<td><input id="default_techs-rows-0-Small-SRWt" name="default_techs-rows-0-Small-SRWt" type="text" value="0.05"></td> 
					<td><input id="default_techs-rows-0-Small-GPt" name="default_techs-rows-0-Small-GPt" type="text" value="3.3"></td>
					<td><input id="default_techs-rows-0-Technology" name="default_techs-rows-0-Technology" type="hidden" value="Bardenpho"> </td>
				</tr>
				<tr>
					<td>Medium</td> 
					<td><input id="default_techs-rows-0-Medium-Capkt" name="default_techs-rows-0-Medium-Capkt" type="text" value="5584865"></td> 
					<td><input id="default_techs-rows-0-Medium-CCkt" name="default_techs-rows-0-Medium-CCkt" type="text" value="8.52"></td> 
					<td><input id="default_techs-rows-0-Medium-OCt" name="default_techs-rows-0-Medium-OCt" type="text" value="0.59"></td>
					<td><input id="default_techs-rows-0-Medium-SRWt" name="default_techs-rows-0-Medium-SRWt" type="text" value="0.13"></td> 
					<td><input id="default_techs-rows-0-Medium-GPt" name="default_techs-rows-0-Medium-GPt" type="text" value="1.08"></td> 								
					<td><input id="default_techs-rows-0-Technology" name="default_techs-rows-0-Technology" type="hidden" value="Bardenpho"> </td>
				</tr>
				<tr>
					<td>Large</td> 
					<td><input id="default_techs-rows-0-Large-Capkt" name="default_techs-rows-0-Large-Capkt" type="text" value="282801270"></td> 
					<td><input id="default_techs-rows-0-Large-CCkt" name="default_techs-rows-0-Large-CCkt" type="text" value="5.43"></td> 
					<td><input id="default_techs-rows-0-Large-OCt" name="default_techs-rows-0-Large-OCt" type="text" value="0.53"></td>
					<td><input id="default_techs-rows-0-Large-SRWt" name="default_techs-rows-0-Large-SRWt" type="text" value="0.41"></td> 
					<td><input id="default_techs-rows-0-Large-GPt" name="default_techs-rows-0-Large-GPt" type="text" value="0.39"></td>
					<td><input id="default_techs-rows-0-Technology" name="default_techs-rows-0-Technology" type="hidden" value="Bardenpho"> </td>			
				</tr>
			
				<tr> <!-- Table rows -->
					<td rowspan="3"><input id="default_techs-rows-1-Select" name="default_techs-rows-1-Select" type="checkbox" value="y"></td>
					<td rowspan="3">MBR+MF</td>
					<td>Small</td> 
					<td><input id="default_techs-rows-1-Small-Capkt" name="default_techs-rows-1-Small-Capkt" type="text" value="4745"></td> 
					<td><input id="default_techs-rows-1-Small-CCkt" name="default_techs-rows-1-Small-CCkt" type="text" value="65.01"></td> 
					<td><input id="default_techs-rows-1-Small-OCt" name="default_techs-rows-1-Small-OCt" type="text" value="0.83"></td>
					<td><input id="default_techs-rows-1-Small-SRWt" name="default_techs-rows-1-Small-SRWt" type="text" value="0.05"></td> 
					<td><input id="default_techs-rows-1-Small-GPt" name="default_techs-rows-1-Small-GPt" type="text" value="1.75"></td>
					<td><input id="default_techs-rows-1-Technology" name="default_techs-rows-1-Technology" type="hidden" value="MBR+MF"> </td>
				</tr>
				<tr>
					<td>Medium</td> 
					<td><input id="default_techs-rows-1-Medium-Capkt" name="default_techs-rows-1-Medium-Capkt" type="text" value="5584865"></td> 
					<td><input id="default_techs-rows-1-Medium-CCkt" name="default_techs-rows-1-Medium-CCkt" type="text" value="9.72"></td> 
					<td><input id="default_techs-rows-1-Medium-OCt" name="default_techs-rows-1-Medium-OCt" type="text" value="0.26"></td>
					<td><input id="default_techs-rows-1-Medium-SRWt" name="default_techs-rows-1-Medium-SRWt" type="text" value="0.13"></td> 
					<td><input id="default_techs-rows-1-Medium-GPt" name="default_techs-rows-1-Medium-GPt" type="text" value="1.33"></td> 								
					<td><input id="default_techs-rows-1-Technology" name="default_techs-rows-1-Technology" type="hidden" value="MBR+MF"> </td>
				</tr>
				<tr>
					<td>Large</td> 
					<td><input id="default_techs-rows-1-Large-Capkt" name="default_techs-rows-1-Large-Capkt" type="text" value="282801270"></td> 
					<td><input id="default_techs-rows-1-Large-CCkt" name="default_techs-rows-1-Large-CCkt" type="text" value="4.49"></td> 
					<td><input id="default_techs-rows-1-Large-OCt" name="default_techs-rows-1-Large-OCt" type="text" value="0.19"></td>
					<td><input id="default_techs-rows-1-Large-SRWt" name="default_techs-rows-1-Large-SRWt" type="text" value="0.41"></td> 
					<td><input id="default_techs-rows-1-Large-GPt" name="default_techs-rows-1-Large-GPt" type="text" value="1.25"></td>
					<td><input id="default_techs-rows-1-Technology" name="default_techs-rows-1-Technology" type="hidden" value="MBR+MF"> </td>			
				</tr>
			
				<tr> <!-- Table rows -->
					<td rowspan="3"><input id="default_techs-rows-2-Select" name="default_techs-rows-2-Select" type="checkbox" value="y"></td>
					<td rowspan="3">MBR + UF</td>
					<td>Small</td> 
					<td><input id="default_techs-rows-2-Small-Capkt" name="default_techs-rows-2-Small-Capkt" type="text" value="4745"></td> 
					<td><input id="default_techs-rows-2-Small-CCkt" name="default_techs-rows-2-Small-CCkt" type="text" value="76.58"></td> 
					<td><input id="default_techs-rows-2-Small-OCt" name="default_techs-rows-2-Small-OCt" type="text" value="1.89"></td>
					<td><input id="default_techs-rows-2-Small-SRWt" name="default_techs-rows-2-Small-SRWt" type="text" value="0.83"></td> 
					<td><input id="default_techs-rows-2-Small-GPt" name="default_techs-rows-2-Small-GPt" type="text" value="3.29"></td>
					<td><input id="default_techs-rows-2-Technology" name="default_techs-rows-2-Technology" type="hidden" value="MBR + UF"> </td>
				</tr>
				<tr>
					<td>Medium</td> 
					<td><input id="default_techs-rows-2-Medium-Capkt" name="default_techs-rows-2-Medium-Capkt" type="text" value="5584865"></td> 
					<td><input id="default_techs-rows-2-Medium-CCkt" name="default_techs-rows-2-Medium-CCkt" type="text" value="12.25"></td> 
					<td><input id="default_techs-rows-2-Medium-OCt" name="default_techs-rows-2-Medium-OCt" type="text" value="0.58"></td>
					<td><input id="default_techs-rows-2-Medium-SRWt" name="default_techs-rows-2-Medium-SRWt" type="text" value="0.92"></td> 
					<td><input id="default_techs-rows-2-Medium-GPt" name="default_techs-rows-2-Medium-GPt" type="text" value="2.87"></td> 								
					<td><input id="default_techs-rows-2-Technology" name="default_techs-rows-2-Technology" type="hidden" value="MBR + UF"> </td>
				</tr>
				<tr>
					<td>Large</td> 
					<td><input id="default_techs-rows-2-Large-Capkt" name="default_techs-rows-2-Large-Capkt" type="text" value="282801270"></td> 
					<td><input id="default_techs-rows-2-Large-CCkt" name="default_techs-rows-2-Large-CCkt" type="text" value="8.2"></td> 
					<td><input id="default_techs-rows-2-Large-OCt" name="default_techs-rows-2-Large-OCt" type="text" value="0.52"></td>
					<td><input id="default_techs-rows-2-Large-SRWt" name="default_techs-rows-2-Large-SRWt" type="text" value="0.92"></td> 
					<td><input id="default_techs-rows-2-Large-GPt" name="default_techs-rows-2-Large-GPt" type="text" value="2.79"></td>
					<td><input id="default_techs-rows-2-Technology" name="default_techs-rows-2-Technology" type="hidden" value="MBR + UF"> </td>			
				</tr>
			
				<tr> <!-- Table rows -->
					<td rowspan="3"><input id="default_techs-rows-3-Select" name="default_techs-rows-3-Select" type="checkbox" value="y"></td>
					<td rowspan="3">MBR + RO</td>
					<td>Small</td> 
					<td><input id="default_techs-rows-3-Small-Capkt" name="default_techs-rows-3-Small-Capkt" type="text" value="4745"></td> 
					<td><input id="default_techs-rows-3-Small-CCkt" name="default_techs-rows-3-Small-CCkt" type="text" value="175.14"></td> 
					<td><input id="default_techs-rows-3-Small-OCt" name="default_techs-rows-3-Small-OCt" type="text" value="4.2"></td>
					<td><input id="default_techs-rows-3-Small-SRWt" name="default_techs-rows-3-Small-SRWt" type="text" value="0.83"></td> 
					<td><input id="default_techs-rows-3-Small-GPt" name="default_techs-rows-3-Small-GPt" type="text" value="3.83"></td>
					<td><input id="default_techs-rows-3-Technology" name="default_techs-rows-3-Technology" type="hidden" value="MBR + RO"> </td>
				</tr>
				<tr>
					<td>Medium</td> 
					<td><input id="default_techs-rows-3-Medium-Capkt" name="default_techs-rows-3-Medium-Capkt" type="text" value="5584865"></td> 
					<td><input id="default_techs-rows-3-Medium-CCkt" name="default_techs-rows-3-Medium-CCkt" type="text" value="25.53"></td> 
					<td><input id="default_techs-rows-3-Medium-OCt" name="default_techs-rows-3-Medium-OCt" type="text" value="1.06"></td>
					<td><input id="default_techs-rows-3-Medium-SRWt" name="default_techs-rows-3-Medium-SRWt" type="text" value="0.92"></td> 
					<td><input id="default_techs-rows-3-Medium-GPt" name="default_techs-rows-3-Medium-GPt" type="text" value="2.91"></td> 								
					<td><input id="default_techs-rows-3-Technology" name="default_techs-rows-3-Technology" type="hidden" value="MBR + RO"> </td>
				</tr>
				<tr>
					<td>Large</td> 
					<td><input id="default_techs-rows-3-Large-Capkt" name="default_techs-rows-3-Large-Capkt" type="text" value="282801270"></td> 
					<td><input id="default_techs-rows-3-Large-CCkt" name="default_techs-rows-3-Large-CCkt" type="text" value="16.27"></td> 
					<td><input id="default_techs-rows-3-Large-OCt" name="default_techs-rows-3-Large-OCt" type="text" value="0.69"></td>
					<td><input id="default_techs-rows-3-Large-SRWt" name="default_techs-rows-3-Large-SRWt" type="text" value="0.92"></td> 
					<td><input id="default_techs-rows-3-Large-GPt" name="default_techs-rows-3-Large-GPt" type="text" value="2.84"></td>
					<td><input id="default_techs-rows-3-Technology" name="default_techs-rows-3-Technology" type="hidden" value="MBR + RO"> </td>			
				</tr>
			
				<tr> <!-- Table rows -->
					<td rowspan="3"><input id="default_techs-rows-4-Select" name="default_techs-rows-4-Select" type="checkbox" value="y"></td>
					<td rowspan="3">CAS+GAC</td>
					<td>Small</td> 
					<td><input id="default_techs-rows-4-Small-Capkt" name="default_techs-rows-4-Small-Capkt" type="text" value="4745"></td> 
					<td><input id="default_techs-rows-4-Small-CCkt" name="default_techs-rows-4-Small-CCkt" type="text" value="19.89"></td> 
					<td><input id="default_techs-rows-4-Small-OCt" name="default_techs-rows-4-Small-OCt" type="text" value="2.82"></td>
					<td><input id="default_techs-rows-4-Small-SRWt" name="default_techs-rows-4-Small-SRWt" type="text" value="0.05"></td> 
					<td><input id="default_techs-rows-4-Small-GPt" name="default_techs-rows-4-Small-GPt" type="text" value="33.52"></td>
					<td><input id="default_techs-rows-4-Technology" name="default_techs-rows-4-Technology" type="hidden" value="CAS+GAC"> </td>
				</tr>
				<tr>
					<td>Medium</td> 
					<td><input id="default_techs-rows-4-Medium-Capkt" name="default_techs-rows-4-Medium-Capkt" type="text" value="5584865"></td> 
					<td><input id="default_techs-rows-4-Medium-CCkt" name="default_techs-rows-4-Medium-CCkt" type="text" value="1.99"></td> 
					<td><input id="default_techs-rows-4-Medium-OCt" name="default_techs-rows-4-Medium-OCt" type="text" value="0.23"></td>
					<td><input id="default_techs-rows-4-Medium-SRWt" name="default_techs-rows-4-Medium-SRWt" type="text" value="0.13"></td> 
					<td><input id="default_techs-rows-4-Medium-GPt" name="default_techs-rows-4-Medium-GPt" type="text" value="33.21"></td> 								
					<td><input id="default_techs-rows-4-Technology" name="default_techs-rows-4-Technology" type="hidden" value="CAS+GAC"> </td>
				</tr>
				<tr>
					<td>Large</td> 
					<td><input id="default_techs-rows-4-Large-Capkt" name="default_techs-rows-4-Large-Capkt" type="text" value="282801270"></td> 
					<td><input id="default_techs-rows-4-Large-CCkt" name="default_techs-rows-4-Large-CCkt" type="text" value="1.83"></td> 
					<td><input id="default_techs-rows-4-Large-OCt" name="default_techs-rows-4-Large-OCt" type="text" value="0.01"></td>
					<td><input id="default_techs-rows-4-Large-SRWt" name="default_techs-rows-4-Large-SRWt" type="text" value="0.4"></td> 
					<td><input id="default_techs-rows-4-Large-GPt" name="default_techs-rows-4-Large-GPt" type="text" value="32.91"></td>
					<td><input id="default_techs-rows-4-Technology" name="default_techs-rows-4-Technology" type="hidden" value="CAS+GAC"> </td>			
				</tr>
			
				<tr> <!-- Table rows -->
					<td rowspan="3"><input id="default_techs-rows-5-Select" name="default_techs-rows-5-Select" type="checkbox" value="y"></td>
					<td rowspan="3">CAS+MF</td>
					<td>Small</td> 
					<td><input id="default_techs-rows-5-Small-Capkt" name="default_techs-rows-5-Small-Capkt" type="text" value="4745"></td> 
					<td><input id="default_techs-rows-5-Small-CCkt" name="default_techs-rows-5-Small-CCkt" type="text" value="22.95"></td> 
					<td><input id="default_techs-rows-5-Small-OCt" name="default_techs-rows-5-Small-OCt" type="text" value="5.33"></td>
					<td><input id="default_techs-rows-5-Small-SRWt" name="default_techs-rows-5-Small-SRWt" type="text" value="0.05"></td> 
					<td><input id="default_techs-rows-5-Small-GPt" name="default_techs-rows-5-Small-GPt" type="text" value="2.75"></td>
					<td><input id="default_techs-rows-5-Technology" name="default_techs-rows-5-Technology" type="hidden" value="CAS+MF"> </td>
				</tr>
				<tr>
					<td>Medium</td> 
					<td><input id="default_techs-rows-5-Medium-Capkt" name="default_techs-rows-5-Medium-Capkt" type="text" value="5584865"></td> 
					<td><input id="default_techs-rows-5-Medium-CCkt" name="default_techs-rows-5-Medium-CCkt" type="text" value="3.45"></td> 
					<td><input id="default_techs-rows-5-Medium-OCt" name="default_techs-rows-5-Medium-OCt" type="text" value="0.63"></td>
					<td><input id="default_techs-rows-5-Medium-SRWt" name="default_techs-rows-5-Medium-SRWt" type="text" value="0.13"></td> 
					<td><input id="default_techs-rows-5-Medium-GPt" name="default_techs-rows-5-Medium-GPt" type="text" value="0.43"></td> 								
					<td><input id="default_techs-rows-5-Technology" name="default_techs-rows-5-Technology" type="hidden" value="CAS+MF"> </td>
				</tr>
				<tr>
					<td>Large</td> 
					<td><input id="default_techs-rows-5-Large-Capkt" name="default_techs-rows-5-Large-Capkt" type="text" value="282801270"></td> 
					<td><input id="default_techs-rows-5-Large-CCkt" name="default_techs-rows-5-Large-CCkt" type="text" value="1.86"></td> 
					<td><input id="default_techs-rows-5-Large-OCt" name="default_techs-rows-5-Large-OCt" type="text" value="0.26"></td>
					<td><input id="default_techs-rows-5-Large-SRWt" name="default_techs-rows-5-Large-SRWt" type="text" value="0.4"></td> 
					<td><input id="default_techs-rows-5-Large-GPt" name="default_techs-rows-5-Large-GPt" type="text" value="1.39"></td>
					<td><input id="default_techs-rows-5-Technology" name="default_techs-rows-5-Technology" type="hidden" value="CAS+MF"> </td>			
				</tr>
			</table>
			<br>
			Below are the details for the default technologies:

			<table class=blueTable align="center">
				<tr>
					<th>Treatment Process</th>
					<th colspan="2">Pre-treatment</th>
					<th>Primary Treatment</th>
					<th colspan="2">Secondary Treatment</th>
					<th colspan="2">Tertiary Treatment</th>
				</tr>
				<tr>
					<td>Bardenpho</td>
					<td>Screening</td>
					<td>Grit removal</td>
					<td>N/A</td>
					<td>Dissolved air bioreactor</td>
					<td>Secondary clarifier</td>
					<td>Filtration</td>
					<td>UV Disinfection</td>
				</tr>
				<tr>
					<td>MBR+MF</td>
					<td>Screening</td>
					<td>Grit removal</td>
					<td>Primary clarifier</td>
					<td>Membrane bioreactor</td>
					<td>N/A</td>
					<td>Micro filtration</td>
					<td>UV Disinfection</td>
				</tr>
				<tr>
					<td>MBR+UF</td>
					<td>Screening</td>
					<td>Grit removal</td>
					<td>Primary clarifier</td>
					<td>Membrane bioreactor</td>
					<td>N/A</td>
					<td>Ultra filtration</td>
					<td>UV Disinfection</td>
				</tr>
				<tr>
					<td>MBR+RO</td>
					<td>Screening</td>
					<td>Grit removal</td>
					<td>Primary clarifier</td>
					<td>Membrane bioreactor</td>
					<td>N/A</td>
					<td>Reverse osmosis</td>
					<td>UV Disinfection</td>
				</tr>
				<tr>
					<td>CAS+GAC</td>
					<td>Screening</td>
					<td>Grit removal</td>
					<td>Primary clarifier</td>
					<td>Aeration basin</td>
					<td>Secondary clarifier</td>
					<td>Granular activated carbon/Filtration</td>
					<td>UV Disinfection</td>
				</tr>
				<tr>
					<td>CAS+MF</td>
					<td>Screening</td>
					<td>Grit removal</td>
					<td>Primary clarifier</td>
					<td>Aeration basin</td>
					<td>Secondary clarifier</td>
					<td>Micro filtration</td>
					<td>UV Disinfection</td>
				</tr>
			</table>

		<!-- sample output -->
		<h2 id="sample-output">Sample output<a class="headerlink" href="#sample-output" title="Permanent link"></a></h2>
		Our model minimizes Z<sub>C</sub>, the financial costs associated with the entire reclamation system, and Z<sub>E</sub>, the greenhouse gas emission of the reclamation system. There may be multiple optimal solutions, and they will all be displayed on a 2-dimensional graph such as the one below.

		<!-- show the chart for selecting solutions -->
		<div style="width:50%;text-align:center;margin:auto;">
			<canvas id="values-chart" style="display:inline;"></canvas>
		</div>

		<!-- show details for each selected solution from the chart -->
		You can click on each solution on the graph to reveal their details and the corresponding demonstration map.
		<h2 align="center">Selected Solution</h2>
		<h3 align="center" id="selected_solution"></h3>
		<table align="center" id="solution_details" class=blueTable></table>

		<!-- shows map of selected solution -->
		<br>
		<p id="map_description"></p>
		<div id="this is for alignment" align="center">
	        <div id="map"></div>
	    </div>

    </article>

    <hr>
	<footer>
		<p>Copyright © 2020, University of South Florida.  All Rights Reserved.  The contributor to the development of the web-based tool at the University of South Florida include:</p>
		<p>Supervisors: Dr. Qiong Zhang (lead), Dr. Nancy Diaz-Elsayed (modeling), Dr. Hadi Charkhgard (optimization)</p>
		<p>Modelers: Dr. Nader Rezaei,  Alvaro Sierra-Altamiranda, Dr. Zulqarnain Haider </p>
		<p>Developers: Minh Pham and Dr. Zulqarnain Haider </p>
		<p>Licensing available.  For any inquiries please reach out to qiongzhang@usf.edu</p>
	</footer>

	<!-- JS -->
	<script>
		var color = Chart.helpers.color;

		/* Construct solution details for all solutions, to be used by printSolutionDetails */
		var solution_details_all = [
				[1, 1, 'Falkenburg', 'GAC + MF', 'Large', '6, 9, 10, 17', 14818735, 13336863, 10.72519354, 9.652675272],
				[1, 2, 'Valrico', 'GAC + MF', 'Large', '3, 4, 5, 11, 15, 18', 41446398, 37301759, 29.99720557, 26.99748559],
				[1, 3, 'South County', 'GAC + MF', 'Large', '14,16', 13761340, 12385206, 9.959894342, 8.963904908],
				[1, 4, 'Southeast County Landfill', 'MBR', 'Large', '7', 15063983, 13557585, 10.902694, 9.812424817],
				[1, 5, 'Mosaic (Hillsborough)', 'GAC + MF', 'Large', '12', 6660663, 5994597, 4.820715114, 4.33864382],
				[1, 6, 'South County Solid Waste Facility', 'GAC + MF', 'Large', '1, 8', 16273296, 14645967, 11.77794523, 10.60015114],
				[1, 7, '14519 BALM RIVERVIEW RD, RIVERVIEW', 'GAC + MF', 'Large', '2, 13', 74616516, 67154865, 54.00437861, 48.60394118],
				[1, 8, '15110 BALM WIMAUMA RD, WIMAUMA', 'Not Installed', 'Not Installed', '', 0, 0, 0, 0],
				[1, 9, '16410 BALM WIMAUMA RD, WIMAUMA', 'Bardenpho', 'Large', '19', 13578518, 12220666, 9.827575265, 8.844817594],
				[2, 1, 'Falkenburg', 'Bardenpho', 'Large', '6, 9, 10, 17', 14818735, 13336863, 10.72519354, 9.652675272],
				[2, 2, 'Valrico', 'MBR', 'Large', '3, 4, 5, 11, 15, 18', 41446398, 37301759, 29.99720557, 26.99748559],
				[2, 3, 'South County', 'GAC + MF', 'Large', '1,14,16', 13761340, 12385206, 9.959894342, 8.963904908],
				[2, 4, 'Southeast County Landfill', 'GAC + MF', 'Large', '7', 15063983, 13557585, 10.902694, 9.812424817],
				[2, 5, 'Mosaic (Hillsborough)', 'GAC + MF', 'Large', '12', 6660663, 5994597, 4.820715114, 4.33864382],
				[2, 6, 'South County Solid Waste Facility', 'GAC + MF', 'Large', '8', 16273296, 14645967, 11.77794523, 10.60015114],
				[2, 7, '14519 BALM RIVERVIEW RD, RIVERVIEW', 'GAC + MF', 'Large', '2, 13', 74616516, 67154865, 54.00437861, 48.60394118],
				[2, 8, '15110 BALM WIMAUMA RD, WIMAUMA', 'Not Installed', 'Not Installed', '', 0, 0, 0, 0],
				[2, 9, '16410 BALM WIMAUMA RD, WIMAUMA', 'GAC + MF', 'Large', '19', 13578518, 12220666, 9.827575265, 8.844817594],
				[3, 1, 'Falkenburg', 'GAC + MF', 'Large', '6, 9, 10, 17', 14818735, 13336863, 10.72519354, 9.652675272],
				[3, 2, 'Valrico', 'GAC + MF', 'Large', '3, 4, 5, 11, 15, 18', 41446398, 37301759, 29.99720557, 26.99748559],
				[3, 3, 'South County', 'GAC + MF', 'Large', '1,14', 13761340, 12385206, 9.959894342, 8.963904908],
				[3, 4, 'Southeast County Landfill', 'MBR', 'Large', '7', 15063983, 13557585, 10.902694, 9.812424817],
				[3, 5, 'Mosaic (Hillsborough)', 'MBR', 'Large', '12', 6660663, 5994597, 4.820715114, 4.33864382],
				[3, 6, 'South County Solid Waste Facility', 'Bardenpho', 'Large', '8', 16273296, 14645967, 11.77794523, 10.60015114],
				[3, 7, '14519 BALM RIVERVIEW RD, RIVERVIEW', 'GAC + MF', 'Large', '2, 13', 74616516, 67154865, 54.00437861, 48.60394118],
				[3, 8, '15110 BALM WIMAUMA RD, WIMAUMA', 'Not Installed', 'Not Installed', '', 0, 0, 0, 0],
				[3, 9, '16410 BALM WIMAUMA RD, WIMAUMA', 'GAC + MF', 'Large', '16, 19', 13578518, 12220666, 9.827575265, 8.844817594],
				[4, 1, 'Falkenburg', 'GAC + MF', 'Large', '6, 9, 10, 17', 14818735, 13336863, 10.72519354, 9.652675272],
				[4, 2, 'Valrico', 'GAC + MF', 'Large', '3, 4, 5, 11, 15, 18', 41446398, 37301759, 29.99720557, 26.99748559],
				[4, 3, 'South County', 'MBR', 'Large', '14', 13761340, 12385206, 9.959894342, 8.963904908],
				[4, 4, 'Southeast County Landfill', 'GAC + MF', 'Large', '7', 15063983, 13557585, 10.902694, 9.812424817],
				[4, 5, 'Mosaic (Hillsborough)', 'GAC + MF', 'Large', '12', 6660663, 5994597, 4.820715114, 4.33864382],
				[4, 6, 'South County Solid Waste Facility', 'Bardenpho', 'Large', '1, 8', 16273296, 14645967, 11.77794523, 10.60015114],
				[4, 7, '14519 BALM RIVERVIEW RD, RIVERVIEW', 'MBR', 'Large', '2, 13', 74616516, 67154865, 54.00437861, 48.60394118],
				[4, 8, '15110 BALM WIMAUMA RD, WIMAUMA', 'Not Installed', 'Not Installed', '', 0, 0, 0, 0],
				[4, 9, '16410 BALM WIMAUMA RD, WIMAUMA', 'MBR', 'Large', '16, 19', 13578518, 12220666, 9.827575265, 8.844817594],
				[5, 1, 'Falkenburg', 'MBR', 'Large', '6, 9, 17', 14818735, 13336863, 10.72519354, 9.652675272],
				[5, 2, 'Valrico', 'GAC + MF', 'Large', '3, 4, 5, 11, 15, 18', 41446398, 37301759, 29.99720557, 26.99748559],
				[5, 3, 'South County', 'GAC + UF', 'Large', '14', 13761340, 12385206, 9.959894342, 8.963904908],
				[5, 4, 'Southeast County Landfill', 'GAC + RO', 'Large', '7', 15063983, 13557585, 10.902694, 9.812424817],
				[5, 5, 'Mosaic (Hillsborough)', 'GAC + MF', 'Large', '10,12', 6660663, 5994597, 4.820715114, 4.33864382],
				[5, 6, 'South County Solid Waste Facility', 'MBR', 'Large', '1, 8', 16273296, 14645967, 11.77794523, 10.60015114],
				[5, 7, '14519 BALM RIVERVIEW RD, RIVERVIEW', 'GAC + MF', 'Large', '2, 13', 74616516, 67154865, 54.00437861, 48.60394118],
				[5, 8, '15110 BALM WIMAUMA RD, WIMAUMA', 'Not Installed', 'Not Installed', '', 0, 0, 0, 0],
				[5, 9, '16410 BALM WIMAUMA RD, WIMAUMA', 'GAC + MF', 'Large', '16, 19', 13578518, 12220666, 9.827575265, 8.844817594],
		];

		/* Construct data for solution chart from Jinja's data */
		var scatterChartData = {
			labels: [
				'Solution 1',
				'Solution 2',
				'Solution 3',
				'Solution 4',
				'Solution 5',
			],
			datasets: [{
				pointRadius: 7,
				tension: 0,
         		showLine: true,
         		fill:false,
				borderColor: window.chartColors.blue,
				backgroundColor: color(window.chartColors.blue).alpha(0.5).rgbString(),
				data: [
						{
							x: 3730.3,
							y: 6648.57,
						},
						{
							x: 3730.75,
							y: 6432.48,
						},
						{
							x: 3731.21,
							y: 5908.45,
						},
						{
							x: 3731.39,
							y: 5766.27,
						},
						{
							x: 3732.21,
							y: 5096.07,
						},
				]
			}]
		};

		/* define chart */
		var ctx = document.getElementById('values-chart').getContext('2d');
		ctx.width = 300;
		ctx.height= 150;
		window.myScatter = Chart.Scatter(ctx, {
			data: scatterChartData,
			options: {
			    legend: {
			        display: false
			    },
			    title: {
			    	display: true,
			    	text: 'Optimal Solutions'
			    },
			    scales: {
			    	xAxes: [{
						scaleLabel: {
							display: true,
							labelString: 'ZC (M$/year)',
							fontStyle: 'bold'
						}
					}],
					yAxes: [{
						scaleLabel: {
							display: true,
							labelString: 'ZE (ton CO2-eq/year)',
							fontStyle: 'bold'
						}
					}]
				},
			    tooltips: {
			        callbacks: {
			           label: function(tooltipItem, data) {
			                var label = data.labels[tooltipItem.index];
               				return label + ': (' + tooltipItem.xLabel + ', ' + tooltipItem.yLabel + ')';
			           }
			        }
			    },
			    events: ['mousemove', 'click'],
			    onHover: (event, chartElement) => {
   					event.target.style.cursor = chartElement[0] ? 'pointer' : 'default';
				},
			    onClick: function(c,i) {
				    e = i[0];
				    if (typeof e !== 'undefined'){
					    var index = e._index;
				    } else {
				    	var index = -1;
				    }
				    printSolutionDetails(index);
				    drawSolutionMap(index);
				}
			}
		});

		/* event handling function to print out details for selected point on graph */
		function printSolutionDetails(index){
			if (index !== -1){
				// get details of the selected solution
				var solution_details_selected = new Array();
				for (var i=0; i<solution_details_all.length; i++){
					if (solution_details_all[i][0] === index+1){
						solution_details_selected.push(solution_details_all[i]);
					}
				}
				
				// generate html text for the table
				var html_text = '';
				html_text += '<tr>';
				html_text += '<th>Location ID</th>';
				html_text += '<th>Location Name</th>';
				html_text += '<th>Technology</th>';
				html_text += '<th>Scale</th>';
				html_text += '<th>Servicing Clusters</th>';
				html_text += '<th>Receiving Capacity (m<sup>3</sup>/year)</th>';
				html_text += '<th>Sending Capacity (m<sup>3</sup>/year)</th>';
				html_text += '<th>Receiving Capacity (MGD)</th>';
				html_text += '<th>Sending Capacity (MGD)</th>';

				for (i=0; i<solution_details_selected.length; i++){
					html_text += '<tr>';
						html_text += '<td>'.concat(solution_details_selected[i][1], '</td>');
						html_text += '<td>'.concat(solution_details_selected[i][2], '</td>');
						html_text += '<td>'.concat(solution_details_selected[i][3], '</td>');
						html_text += '<td>'.concat(solution_details_selected[i][4], '</td>');
						html_text += '<td>'.concat(solution_details_selected[i][5], '</td>');
						html_text += '<td>'.concat(solution_details_selected[i][6], '</td>');
						html_text += '<td>'.concat(solution_details_selected[i][7], '</td>');
						html_text += '<td>'.concat(solution_details_selected[i][8], '</td>');
						html_text += '<td>'.concat(solution_details_selected[i][9], '</td>');
					html_text += '</tr>';
				}

				// render to html
				document.getElementById("selected_solution").innerHTML = "Solution ".concat(index+1);
				document.getElementById("map_description").innerHTML = "In the map below, red markers represent population clusters and blue markers represent water-treatment plants. A line that connects a population cluster and a plant means that the plant is accepting wastewater from the population cluster.";
				document.getElementById("solution_details").innerHTML = html_text;
			}
		}

		/*event handling function to refresh the map according to selected solution*/
		// global variables for population markers, location markers, and connecting LineString
		var population_markers = [{"geometry": {"coordinates": [-82.4033, 27.763], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Apollo Beach: 20149"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.2895, 27.753], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Balm: 3968"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.2614, 27.8767], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Bloomingdale: 24100"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.2993, 27.936], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Brandon: 113677"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.2311, 27.9868], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Dover: 4149"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.3647, 28.0044], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "East Lake-Orient Park CDP: 25565"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.2178, 27.8479], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Fish Hawk: 20930"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.3791, 27.8285], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Gibsonton: 16587"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.3083, 27.9901], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Mango: 12142"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.3794, 27.9245], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Palm River-Clair Mel CDP: 23848"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.1203, 28.0144], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Plant City: 39087"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.3643, 27.8856], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Progress Village: 8220"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.3046, 27.8252], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Riverview: 89017"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.4227, 27.7077], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Ruskin: 24266"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.2741, 28.0016], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Seffner: 8297"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.3558, 27.7144], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Sun City Center: 24900"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.2962, 28.0423], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Thonotosassa: 13964"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.2313, 27.9191], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Valrico: 38711"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.3132, 27.6749], "type": "Point"}, "properties": {"marker-color": "#ff2200", "marker-size": "large", "marker-symbol": "city", "title": "Wimauma: 8615"}, "type": "Feature"}];
		var location_markers_allSols = [[{"geometry": {"coordinates": [-82.340869, 27.952972], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Falkenburg: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.229382, 27.957529], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Valrico: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.383904, 27.722524], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "South County: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.198667, 27.762715], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Southeast County Landfill: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.38656, 27.863415], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Mosaic (Hillsborough): new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.382078, 27.801543], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "South County Solid Waste Facility: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.279631, 27.773225], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "14519 BALM RIVERVIEW RD, RIVERVIEW: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.261762, 27.723188], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "16410 BALM WIMAUMA RD, WIMAUMA: new location"}, "type": "Feature"}], [{"geometry": {"coordinates": [-82.340869, 27.952972], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Falkenburg: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.229382, 27.957529], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Valrico: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.383904, 27.722524], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "South County: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.198667, 27.762715], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Southeast County Landfill: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.38656, 27.863415], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Mosaic (Hillsborough): new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.382078, 27.801543], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "South County Solid Waste Facility: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.279631, 27.773225], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "14519 BALM RIVERVIEW RD, RIVERVIEW: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.261762, 27.723188], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "16410 BALM WIMAUMA RD, WIMAUMA: new location"}, "type": "Feature"}], [{"geometry": {"coordinates": [-82.340869, 27.952972], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Falkenburg: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.229382, 27.957529], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Valrico: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.383904, 27.722524], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "South County: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.198667, 27.762715], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Southeast County Landfill: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.38656, 27.863415], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Mosaic (Hillsborough): new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.382078, 27.801543], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "South County Solid Waste Facility: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.279631, 27.773225], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "14519 BALM RIVERVIEW RD, RIVERVIEW: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.261762, 27.723188], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "16410 BALM WIMAUMA RD, WIMAUMA: new location"}, "type": "Feature"}], [{"geometry": {"coordinates": [-82.340869, 27.952972], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Falkenburg: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.229382, 27.957529], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Valrico: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.383904, 27.722524], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "South County: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.198667, 27.762715], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Southeast County Landfill: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.38656, 27.863415], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Mosaic (Hillsborough): new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.382078, 27.801543], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "South County Solid Waste Facility: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.279631, 27.773225], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "14519 BALM RIVERVIEW RD, RIVERVIEW: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.261762, 27.723188], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "16410 BALM WIMAUMA RD, WIMAUMA: new location"}, "type": "Feature"}], [{"geometry": {"coordinates": [-82.340869, 27.952972], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Falkenburg: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.229382, 27.957529], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Valrico: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.383904, 27.722524], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "South County: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.198667, 27.762715], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Southeast County Landfill: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.38656, 27.863415], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "Mosaic (Hillsborough): new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.382078, 27.801543], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "South County Solid Waste Facility: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.279631, 27.773225], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "14519 BALM RIVERVIEW RD, RIVERVIEW: new location"}, "type": "Feature"}, {"geometry": {"coordinates": [-82.261762, 27.723188], "type": "Point"}, "properties": {"marker-color": "#3bb2d0", "marker-size": "large", "marker-symbol": "water", "title": "16410 BALM WIMAUMA RD, WIMAUMA: new location"}, "type": "Feature"}]];
		var location_markers;		// selected location markers
		var plants_pop_linestring_allSols = [[{"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3647, 28.0044]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3083, 27.9901]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3794, 27.9245]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.2962, 28.0423]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2614, 27.8767]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2993, 27.936]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2311, 27.9868]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.1203, 28.0144]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2741, 28.0016]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2313, 27.9191]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.383904, 27.722524], [-82.4227, 27.7077]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.383904, 27.722524], [-82.3558, 27.7144]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.198667, 27.762715], [-82.2178, 27.8479]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.38656, 27.863415], [-82.3643, 27.8856]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.382078, 27.801543], [-82.4033, 27.763]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.382078, 27.801543], [-82.3791, 27.8285]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.279631, 27.773225], [-82.2895, 27.753]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.279631, 27.773225], [-82.3046, 27.8252]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.261762, 27.723188], [-82.3132, 27.6749]], "type": "LineString"}, "properties": {}, "type": "Feature"}], [{"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3647, 28.0044]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3083, 27.9901]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3794, 27.9245]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.2962, 28.0423]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2614, 27.8767]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2993, 27.936]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2311, 27.9868]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.1203, 28.0144]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2741, 28.0016]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2313, 27.9191]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.383904, 27.722524], [-82.4033, 27.763]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.383904, 27.722524], [-82.4227, 27.7077]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.383904, 27.722524], [-82.3558, 27.7144]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.198667, 27.762715], [-82.2178, 27.8479]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.38656, 27.863415], [-82.3643, 27.8856]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.382078, 27.801543], [-82.3791, 27.8285]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.279631, 27.773225], [-82.2895, 27.753]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.279631, 27.773225], [-82.3046, 27.8252]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.261762, 27.723188], [-82.3132, 27.6749]], "type": "LineString"}, "properties": {}, "type": "Feature"}], [{"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3647, 28.0044]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3083, 27.9901]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3794, 27.9245]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.2962, 28.0423]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2614, 27.8767]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2993, 27.936]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2311, 27.9868]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.1203, 28.0144]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2741, 28.0016]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2313, 27.9191]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.383904, 27.722524], [-82.4033, 27.763]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.383904, 27.722524], [-82.4227, 27.7077]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.198667, 27.762715], [-82.2178, 27.8479]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.38656, 27.863415], [-82.3643, 27.8856]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.382078, 27.801543], [-82.3791, 27.8285]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.279631, 27.773225], [-82.2895, 27.753]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.279631, 27.773225], [-82.3046, 27.8252]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.261762, 27.723188], [-82.3558, 27.7144]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.261762, 27.723188], [-82.3132, 27.6749]], "type": "LineString"}, "properties": {}, "type": "Feature"}], [{"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3647, 28.0044]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3083, 27.9901]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3794, 27.9245]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.2962, 28.0423]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2614, 27.8767]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2993, 27.936]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2311, 27.9868]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.1203, 28.0144]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2741, 28.0016]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2313, 27.9191]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.383904, 27.722524], [-82.4227, 27.7077]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.198667, 27.762715], [-82.2178, 27.8479]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.38656, 27.863415], [-82.3643, 27.8856]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.382078, 27.801543], [-82.4033, 27.763]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.382078, 27.801543], [-82.3791, 27.8285]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.279631, 27.773225], [-82.2895, 27.753]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.279631, 27.773225], [-82.3046, 27.8252]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.261762, 27.723188], [-82.3558, 27.7144]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.261762, 27.723188], [-82.3132, 27.6749]], "type": "LineString"}, "properties": {}, "type": "Feature"}], [{"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3647, 28.0044]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.3083, 27.9901]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.340869, 27.952972], [-82.2962, 28.0423]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2614, 27.8767]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2993, 27.936]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2311, 27.9868]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.1203, 28.0144]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2741, 28.0016]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.229382, 27.957529], [-82.2313, 27.9191]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.383904, 27.722524], [-82.4227, 27.7077]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.198667, 27.762715], [-82.2178, 27.8479]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.38656, 27.863415], [-82.3794, 27.9245]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.38656, 27.863415], [-82.3643, 27.8856]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.382078, 27.801543], [-82.4033, 27.763]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.382078, 27.801543], [-82.3791, 27.8285]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.279631, 27.773225], [-82.2895, 27.753]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.279631, 27.773225], [-82.3046, 27.8252]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.261762, 27.723188], [-82.3558, 27.7144]], "type": "LineString"}, "properties": {}, "type": "Feature"}, {"geometry": {"coordinates": [[-82.261762, 27.723188], [-82.3132, 27.6749]], "type": "LineString"}, "properties": {}, "type": "Feature"}]];
		var connecting_linestrings;	// selected connection linestrings
		var map = null;
		var animated_markers; 		// animated markers on connection linestrings
		function drawSolutionMap(index){
			if (index !== -1){
				// clear the map
				if (map !== undefined && map !== null) {
					map.remove(); // should remove the map from UI and clean the inner children of DOM element
				}


				// draw map
				location_markers = location_markers_allSols[index];
				connecting_linestrings = plants_pop_linestring_allSols[index];
				L.mapbox.accessToken = 'pk.eyJ1IjoibWluaGhwaGFtIiwiYSI6ImNrMzljZGZ4eDAxeHIzbnJyZ2IzczR0NTkifQ.4z38nBjZddXTCtyuTEafPQ';
	            map = L.mapbox.map('map', 'mapbox.streets');
	            var population_layer = L.mapbox.featureLayer()
					                           .setGeoJSON(population_markers)
	                 					       .addTo(map);
		        var plant_layer = L.mapbox.featureLayer()
					                           .setGeoJSON(location_markers)
	                 					       .addTo(map);
	            var connection_layer = L.mapbox.featureLayer()
	            							   .setGeoJSON(connecting_linestrings)
	            							   .addTo(map);
	            map.fitBounds(population_layer.getBounds().extend(plant_layer.getBounds()));
	            map.scrollWheelZoom.disable();

	            // prepare data to animate movement on connection_layer
	            var i, j, origin, destin, x, y;	// intermediary variables to animate connection 
	            var steps = 500;				// control how fast the animation moves, higher = faster
	            animated_markers = [];
	            // create steps number of positions for each linestring
	            for (var i=0; i<=steps; i++){
	            	var position_list = []; 	// array of positions in this step
	            	// loop through connection linestrings
	            	for (j=0; j<connecting_linestrings.length; j++){
	            		origin = connecting_linestrings[j].geometry.coordinates[1];
	            		destin = connecting_linestrings[j].geometry.coordinates[0];
	            		x = origin[0] + (destin[0] - origin[0])/steps*i;	// coordinates of animation marker on this linestring
						y = origin[1] + (destin[1] - origin[1])/steps*i;
	            		position_list.push({
					        'type': 'FeatureCollection',
					        'features': [
					            {
				                'type': 'Feature',
				                'properties': {},
				                'geometry': {'type': 'Point', 'coordinates': [x,y]}
					            }
				        	]
					    });
	            	}
	            	// push this position list out
	            	animated_markers.push(position_list);
	            }

	            // animate movement on connection_layer
	            var animate_layer = L.mapbox.featureLayer(animated_markers[0],{
	    			pointToLayer: function(feature, latlon){
	    				return L.marker(latlon, {
							icon: L.icon({
								iconUrl: '/static/water_marker.png',
								iconSize: [25, 25]
							})
						});
	    			}
	   			});
	   			animate_layer.addTo(map);

	            var counter = 0;
				function animate(){
					if (counter === steps){
						counter = 0;
					} else{
						counter = counter + 1;
					}
					animate_layer.setGeoJSON(animated_markers[counter]);
					requestAnimationFrame(animate);

				}
				animate()
	        }
		}

		printSolutionDetails(0);
		drawSolutionMap(0);

	</script>

</body>
</html>